<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>Week 5 lecture notes - PSYC 5301</title>
<!-- 2017-02-14 Tue 11:00 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center; }
  .todo   { font-family: monospace; color: red; }
  .done   { color: green; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.right  { text-align: center;  }
  th.left   { text-align: center;   }
  th.center { text-align: center; }
  td.right  { text-align: right;  }
  td.left   { text-align: left;   }
  td.center { text-align: center; }
  dt { font-weight: bold; }
  .footpara:nth-child(2) { display: inline; }
  .footpara { display: block; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script type="text/javascript" src="http://orgmode.org/mathjax/MathJax.js"></script>
<script type="text/javascript">
<!--/*--><![CDATA[/*><!--*/
    MathJax.Hub.Config({
        // Only one of the two following lines, depending on user settings
        // First allows browser-native MathML display, second forces HTML/CSS
        //  config: ["MMLorHTML.js"], jax: ["input/TeX"],
            jax: ["input/TeX", "output/HTML-CSS"],
        extensions: ["tex2jax.js","TeX/AMSmath.js","TeX/AMSsymbols.js",
                     "TeX/noUndefined.js"],
        tex2jax: {
            inlineMath: [ ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"], ["\\begin{displaymath}","\\end{displaymath}"] ],
            skipTags: ["script","noscript","style","textarea","pre","code"],
            ignoreClass: "tex2jax_ignore",
            processEscapes: false,
            processEnvironments: true,
            preview: "TeX"
        },
        showProcessingMessages: true,
        displayAlign: "center",
        displayIndent: "2em",

        "HTML-CSS": {
             scale: 100,
             availableFonts: ["STIX","TeX"],
             preferredFont: "TeX",
             webFont: "TeX",
             imageFont: "TeX",
             showMathMenu: true,
        },
        MMLorHTML: {
             prefer: {
                 MSIE:    "MML",
                 Firefox: "MML",
                 Opera:   "HTML",
                 other:   "HTML"
             }
        }
    });
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">Week 5 lecture notes - PSYC 5301</h1>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">Review of Questions 2 and 3 from Week 4 discussion</h2>
<div class="outline-text-2" id="text-1">
</div><div id="outline-container-sec-1-0-1" class="outline-4">
<h4 id="sec-1-0-1">Question 2: Suppose you are testing a hypothesis H1.  Prior literature indicates that, <i>a priori</i> this hypothesis is 3 times more likely than the null H0.  Suppose further that you have 80% power and set \(\alpha=0.05\).  What is the probability of making a Type I error?</h4>
<div class="outline-text-4" id="text-1-0-1">
<ul class="org-ul">
<li>4 said 5%
</li>
<li>2 said 1.25%
</li>
<li>1 said 0.0125
</li>
<li>1 said 0.15%
</li>
<li>2 were not sure how to set up problem
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1-0-2" class="outline-4">
<h4 id="sec-1-0-2">Question 3: "optional stopping" problem.</h4>
<div class="outline-text-4" id="text-1-0-2">
<p>
a. does stopping at 55 affect probability of Type I error?
</p>
<ul class="org-ul">
<li>3 said "Yes - increase"
</li>
<li>1 said "yes - decrease"
</li>
<li>5 said "No"
</li>
<li>1 gave no clear answer
</li>
</ul>

<p>
b. would results change if you went ahead and ran all 100 participants?
</p>
<ul class="org-ul">
<li>2 said "maybe"
</li>
<li>2 said "Yes"
</li>
<li>4 said "No"
</li>
<li>2 gave no clear answer
</li>
</ul>

<p>
c. good research practice?
</p>
<ul class="org-ul">
<li>8 said "No"
</li>
<li>1 said "Yes"
</li>
<li>1 said "shady"
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1-0-3" class="outline-4">
<h4 id="sec-1-0-3">Answers:</h4>
<div class="outline-text-4" id="text-1-0-3">
<p>
Question 2:  using technique from Week 3, we can solve this problem the following way.  Assume 10,000 replications.  Since H1 is 3 times more likely than H0, this implies that H0 will be true on 2500 trials and H0 will be false on 7500 trials.  This partition, along with \(\alpha=0.05\) and power=80%, gives the following table:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">decision</th>
<th scope="col" class="left">HO true</th>
<th scope="col" class="left">H0 false</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">reject H0</td>
<td class="left">125 trials</td>
<td class="left">6000 trials</td>
</tr>

<tr>
<td class="left">accept H0</td>
<td class="left">2375 trials</td>
<td class="left">1500 trials</td>
</tr>
</tbody>
</table>

<p>
Thus, the probability of making a Type I error is 125/10000 = 0.0125 = 1.25%
</p>

<p>
Question 3: this one is hard to solve mathematically, so instead we'll do some simulations.
</p>

<p>
Let's tackle the second part first.  If you get a sig result in the middle, will you get the same result at the end if you run all your participants?  
</p>

<p>
In our R simulation, we will simulate the p-values obtained as datapoints increase up to 100.  Further, we will simulate two conditions:
</p>

<p>
Condition 1: assume a null effect.  As you can see, getting a sig result halfway through the experiment does NOT mean that you'll get a sig result at the end.
</p>


<div class="figure">
<p><img src="figures/pValues-nullEffect.png" alt="pValues-nullEffect.png" />
</p>
</div>

<p>
Condition 2: assume a true effect.  In this case, the trajectory is clearly different.
</p>


<div class="figure">
<p><img src="figures/pValues-trueEffect.png" alt="pValues-trueEffect.png" />
</p>
</div>

<p>
The problem is that you never know which of these trajectories is the condition considered in your experiment.  Thus, <b>stopping in the middle may yield different results than stopping at the end</b>.
</p>


<p>
Now we can tackle part 1.  To answer this, we will simulate 50,000 replications of an experiment where there is no effect (HO is true).  Further, we will suppose that we look at the data in the middle and stop if we see a significant result (optional stopping).  Set \(\alpha=0.05\) for each look.
</p>

<p>
Looks = 1
<img src="figures/looks-1.png" alt="looks-1.png" />
</p>

<p>
Looks = 2
<img src="figures/looks-2.png" alt="looks-2.png" />
</p>

<p>
Looks = 3
<img src="figures/looks-3.png" alt="looks-3.png" />
</p>

<p>
Looks = 4
<img src="figures/looks-4.png" alt="looks-4.png" />
</p>


<p>
Clearly, optional stopping has a profound effect on the overall type I error rate!
</p>
</div>
</div>

<div id="outline-container-sec-1-0-4" class="outline-4">
<h4 id="sec-1-0-4">How to do optional stopping the <i>right way!</i></h4>
<div class="outline-text-4" id="text-1-0-4">
<p>
Fortunately, there is a way to do optional stopping while still controlling the Type I error rate.  We will describe two methods:
</p>

<p>
Method 1: Bonferroni correction - divide \(\alpha\) by the number of planned looks.  For example, if planning 4 looks, set \(\alpha=0.05/4=0.0125\) for each look. As you can see, this results in an overall Type I error rate LESS than 5%.  This method is "too conservative" and increases Type II error rate.
<img src="figures/bonferroniCorrection.png" alt="bonferroniCorrection.png" />
</p>


<p>
Method 2: Pocock correction - use the "Pocock boundary" for each test.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="right" />

<col  class="right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="right">Number of looks</th>
<th scope="col" class="right">Pocock boundary</th>
</tr>
</thead>
<tbody>
<tr>
<td class="right">2</td>
<td class="right">0.0294</td>
</tr>

<tr>
<td class="right">3</td>
<td class="right">0.0221</td>
</tr>

<tr>
<td class="right">4</td>
<td class="right">0.0182</td>
</tr>

<tr>
<td class="right">5</td>
<td class="right">0.0158</td>
</tr>
</tbody>
</table>

<p>
As you can see, the overall Type I error rate is held nicely at 5%
<img src="figures/pocockCorrection.png" alt="pocockCorrection.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2">Comparing two independent groups</h2>
<div class="outline-text-2" id="text-2">
</div><div id="outline-container-sec-2-1" class="outline-3">
<h3 id="sec-2-1">Review</h3>
<div class="outline-text-3" id="text-2-1">
<p>
The first part of this lecture should be old material from your previous statistics course.  Then, we will talk about some new stuff.
</p>

<p>
Suppose we have two groups and want to test the hypothesis \(H_0: \mu_1=\mu_2\).  Further, assume the following:
</p>
<ul class="org-ul">
<li>sampling is random
</li>
<li>observations in group 1 are independent from observations in group 2
</li>
<li>both groups are sampled from normal distributions
</li>
<li>both groups have equal variances (homoscedasticity)
</li>
</ul>

<p>
Then we may reject \(H_0\) if \(|t|\geq t_{\text{crit}}\), where 
\[
t=\frac{\overline{X}_1-\overline{X}_2}{\sqrt{s_p^2\bigl(\frac{1}{n_1}+\frac{1}{n_2}\bigr)}},
\] 
\(t_{\text{crit}}\) is the critical value of the \(t\)-distribution with \(df=n_1+n+2-2\) degrees of freedom, and \(s_p^2\) is the common pooled variance, computed by 
\[
s_p^2= \frac{(n_1-1)\cdot s_1^2+(n_2-1)\cdot s_2^2}{n_1+n_2-2}.
\]
</p>

<p>
In practice, this is easily computed by computer software (as we'll demonstrate later).
</p>

<p>
However, what do we do when one (or more) of the assumptions above is violated? 
</p>

<p>
Note: the first two are determined by your experimental design.  The last two are statistical, so we can test them!
</p>

<ol class="org-ol">
<li>Testing for normality
<ul class="org-ul">
<li>The Shapiro-Wilk (1965) test can be used to test for normality.  
</li>
<li>\(H_0\) = population is normally distributed
</li>
<li>output: two statistics
<ul class="org-ul">
<li>\(W\): indexes the extent to which a distribution deviates from normality.  
</li>
<li>\(p\): the usual \(p\)-value - tells you whether to reject the null
</li>
<li>so, you DON'T want to reject this one!
</li>
</ul>
</li>
</ul>
</li>

<li>Testing for equal variances
<ul class="org-ul">
<li>Levene's (1960) test can be used to test for equality of variances
</li>
<li>\(H_0\) = population variances are equal
</li>
<li>output: two statistics
<ul class="org-ul">
<li>\(F\): indexes extent to which population variances differ
</li>
<li>\(p\): usual \(p\)-value
</li>
<li>you DON'T want to reject this one either!
</li>
</ul>
</li>
</ul>
</li>
</ol>

<p>
So what if you reject one or both of these tests?  Solution: use <i>Welch's</i> \(t\)-test.
</p>

<ol class="org-ol">
<li>Welch's (1947) test has two differences from "usual" t-test:
<ul class="org-ul">
<li>same formula as \(t\)-test above, but instead of using pooled variance, you use the separate variances \(s_1^2\) and \(s_2^2\).  
</li>
<li>slight adjustment to degrees of freedom:
</li>
</ul>
</li>
</ol>
<p>
\[
df = \frac{\Bigl(\frac{s_1^2}{N_1}+\frac{s_2^2}{N_2}\Bigr)^2}{\frac{s_1^4}{N_1^2\cdot df_1}+\frac{s_2^4}{N_2^2\cdot df_2}}
\] 
</p>

<p>
With these tools, we are ready to dive into our data!
</p>
</div>
</div>

<div id="outline-container-sec-2-2" class="outline-3">
<h3 id="sec-2-2">How to structure data</h3>
<div class="outline-text-3" id="text-2-2">
<p>
The first consideration when using any software is to know how to structure your data.  With JASP (as well as SPSS), the data is always organized according to the following principles:
</p>
<ul class="org-ul">
<li>each row of the data file should correspond to ONE subject
</li>
<li>each column should represent a variable (either IVs or DVs)
</li>
</ul>

<p>
The main difference between JASP and SPSS (other than the fact that JASP is free) is that you cannot directly input data (or edit it) within JASP.  You have to work with the data in a spreadsheet program (Excel or OpenOffice) and export the data as a CSV file. 
</p>
</div>
</div>

<div id="outline-container-sec-2-3" class="outline-3">
<h3 id="sec-2-3">Performing analysis in JASP</h3>
<div class="outline-text-3" id="text-2-3">
<ol class="org-ol">
<li>Click on "File" tab, select "Open", then "Computer", then "Browse".  From here, you will navigate to where you've saved your CSV file.  Click "Open" once you've found the file.
</li>

<li>Make sure all of the variable types are correct.  For example, in our example data, I need to change the "recalled" data column to a continuous scale.  This is done by clicking on the symbol beside the variable name and selecting the appropriate icon (a ruler for continuous scale, a venn diagram for nominal data, a bar graph for ordinal data, etc.)
</li>

<li>Click the "T-Tests" button and select "Independent Samples T-Test".  For additional statistics, select "Descriptives", "Descriptives plots", and "Effect size".  Choose "recalled" as a dependent variable and "condition" as a grouping variable.
<ul class="org-ul">
<li>Example paragraph: "The shallow processing group recalled an average of 6.87 words (SD = 2.34), whereas the deep processing group recalled an average of 9.45 words (SD = 2.99).  To determine whether these group means differed significantly, we performed an independent samples t-test.  The two group means differed significantly, t(172) = 6.32, p&lt;0.001, d=0.96."
</li>
</ul>
</li>

<li>Choose both assumption checks to perform the Wilk-Shapiro test and the Levene test.  If one or both results indicate violation of any assumptions, choose the "Welch" test and report the results.
<ul class="org-ul">
<li>Example: "To test whether we satisifed the assumptions of the t-test, we further tested both samples for normality and equality of variances.  To test for normality, we used the Shapiro-Wilk test.  The shallow processing group deviated significantly from normality, W=0.96, p=0.009, whereas the deep processing group did not deviate significantly from normality, W=0.98, p=0.275.  Further, we tested for equality of variances using Levene's test, which indicated that the two samples exhibited marginally different variances, F(1)=4.12, p=0.044.  Given these violations of the assumptions for the Student t-test, we interpret the results cautiously.   However, when performing the Welch t-test (which relaxes the assumption of equal variances), we get the same overall result: the deep processing group recalled signficantly more words than the shallow processing group, t(162.8)=6.32, p&lt;0.001."
</li>
</ul>
</li>
</ol>
</div>
</div>
</div>

<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3">Assignment</h2>
<div class="outline-text-2" id="text-3">
<p>
Assignment for next meeting (Feb 28)
</p>

<ol class="org-ol">
<li>download the raw data from the course website and compile it into a single CSV file.
</li>

<li>using the techniques we described today, analyze the data to test the LOP hypothesis.
</li>

<li>finish your manuscript, adding the Results and Discussion sections.  In addition to the requirements from last lecture (see Week 3), make sure you include the following:
<ul class="org-ul">
<li>Results: you must report the Student t-test, the assumption checks, and (if needed) the Welch t-test.
</li>
<li>Discussion: 
<ul class="org-ul">
<li>start by restating the purpose of the experiment, followed by a paragraph describing what you found
</li>
<li>if your data violates assumptions, explain this.  What does this say about your conclusions?
</li>
<li>you may have noticed that the word lists contained both abstract words as well as concrete words, though we did not manipulate this.  Do you think there would be a difference between these word types?  How might you design a followup experiment testing this as an <i>additional</i> variable?
</li>
</ul>
</li>
</ul>
</li>
</ol>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Date: Feb 14, 2017</p>
<p class="date">Created: 2017-02-14 Tue 11:00</p>
<p class="creator"><a href="http://www.gnu.org/software/emacs/">Emacs</a> 25.1.1 (<a href="http://orgmode.org">Org</a> mode 8.2.10)</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
